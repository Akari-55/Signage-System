{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/frontend/signage_app/src/features/Content/ContentGroup.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styles from \"./Content.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n// import {Modal} from \"../Core/Core\";\n\nimport { SelectCurrentMonitorId } from '../Device/deviceSlice';\nimport { SelectContent, SelectContentGroup, SelectContentGroupMember, deleteContentGroup_api, createContentGroup_api, createContentGroupMember_api, deleteContentGroup, fetchContent, fetchContentGroupMember } from './contentSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  children,\n  onConfirm,\n  onCancel\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: 'rgba(0, 0, 0, 0.5)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        background: 'white',\n        borderRadius: '5px',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n      },\n      children: [children, /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          style: {\n            marginRight: '10px'\n          },\n          children: \"\\u306F\\u3044\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          children: \"\\u3044\\u3044\\u3048\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this);\n};\n_c = Modal;\nconst initialDevice = {\n  id: -1,\n  serial_number: \"\",\n  monitor_id: null,\n  name: \"\",\n  location: \"\",\n  status: \"inactive\",\n  last_active: new Date().toISOString()\n};\nconst ContentGroupDisplay = () => {\n  _s();\n  const dispatch = useDispatch();\n  const contentgroups = useSelector(SelectContentGroup);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [contentgroupStatus, setContentGroupStatus] = useState('all');\n  const [SelectedContentGroupIds, setSelectedContentGroupIds] = useState(new Set());\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const handleSearchChange = event => {\n    setSearchTerm(event.target.value);\n  };\n  console.log(contentgroups);\n  const handleContentGroupStatusChange = status => {\n    setContentGroupStatus(prevStatus => prevStatus === status ? 'all' : status);\n  };\n  const resetFilters = () => {\n    setContentGroupStatus('all');\n  };\n  const handleCheckboxChange = id => {\n    setSelectedContentGroupIds(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(id)) {\n        newSet.delete(id);\n      } else {\n        newSet.add(id);\n      }\n      return newSet;\n    });\n  };\n  const handleDeleteClick = () => {\n    setIsModalOpen(true);\n  };\n  const handleConfirmDelete = () => {\n    SelectedContentGroupIds.forEach(id => {\n      dispatch(deleteContentGroup(id));\n      dispatch(deleteContentGroup_api(id));\n    });\n    setSelectedContentGroupIds(new Set());\n    setIsModalOpen(false);\n  };\n  const handleCancel = () => {\n    setIsModalOpen(false);\n  };\n  const filterdContentGroups = contentgroups.filter(contentgroup => {\n    return contentgroup.name.toLowerCase().includes(searchTerm.toLowerCase()) && (contentgroupStatus === 'all' || contentgroup.status === contentgroupStatus);\n  });\n  const getButtonClass = (value, type) => {\n    if (type === 'status') {\n      return contentgroupStatus === value ? 'activate' : '';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDeleteClick,\n      children: \"\\u524A\\u9664\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u691C\\u7D22\",\n      value: searchTerm,\n      onChange: handleSearchChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: resetFilters,\n      className: contentgroupStatus === 'all' ? 'activate' : '',\n      children: \"\\u3059\\u3079\\u3066\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleContentGroupStatusChange('公開'),\n      className: getButtonClass('公開', 'status'),\n      children: \"\\u4F7F\\u7528\\u4E2D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleContentGroupStatusChange('未公開'),\n      className: getButtonClass('未公開', 'status'),\n      children: \"\\u672A\\u4F7F\\u7528\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u9078\\u629E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u30B9\\u30C6\\u30FC\\u30BF\\u30B9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\\u30BF\\u30A4\\u30C8\\u30EB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\\u306E\\u8A73\\u7D30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filterdContentGroups.map(contentGroups => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: SelectedContentGroupIds.has(contentGroups.id),\n              onChange: () => handleCheckboxChange(contentGroups.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: contentGroups.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: contentGroups.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: contentGroups.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 33\n          }, this)]\n        }, contentGroups.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), contentgroups.map(contentgroup => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n        onConfirm: handleConfirmDelete,\n        onCancel: handleCancel,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\\u3092\\u524A\\u9664\\u3057\\u3066\\u3082\\u3088\\u308D\\u3057\\u3044\\u3067\\u3059\\u304B?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this)\n    }, contentgroup.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 9\n  }, this);\n};\n//コンテンツグループの新規作成\n// export const CreateContentGroup=()=>{\n//     const[name,setName]=useState('');\n//     const [description,setDescription]=useState('');\n//     const [selectedContents,setSelectedContents]=useState<number[]>([]);\n//     const dispatch=useDispatch<AppDispatch>();\n//     const contents=useSelector(SelectContent);\n//     const currentMonitorId=useSelector(SelectCurrentMonitorId);\n\n//     useEffect(()=>{\n//         const monitorId=Number(currentMonitorId);\n//         if(!isNaN(monitorId)){\n//             dispatch(fetchContent(monitorId));\n//         }\n//     },[dispatch,currentMonitorId]);\n\n//     const handleCheckboxChange=(contentId:number)=>{\n//         setSelectedContents(prev=>{\n//             if(prev.includes(contentId)){\n//                 return prev.filter(id=>id!==contentId);\n//             }else{\n//                 return[...prev,contentId];\n//             }\n//         })\n//     };\n//     const handleSubmit=async(e:React.FormEvent<HTMLFormElement>)=>{\n//         e.preventDefault();\n//         const formData=new FormData();\n//         formData.append('name',name);\n//         formData.append('description',description);\n//         dispatch(createContentGroup_api({formData})).then((action)=>{\n//             if(createContentGroup_api.fulfilled.match(action)){\n//                 const contentGroupId=action.payload.id;\n//                 selectedContents.forEach(contentId=>{\n//                     const memberData={id:1,group:contentGroupId,content:contentId,order:selectedContents.indexOf(contentId)+1};\n//                     dispatch(addContentGroupMember(memberData));\n//                 })\n//             }\n//         }\n//         )\n//     }\n// }\n//コンテンツグループの新規作成\n_s(ContentGroupDisplay, \"7C9M4H+9owRYI1Ke9/pnbPn7ros=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c2 = ContentGroupDisplay;\nconst CreateContentGroup = () => {\n  _s2();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const contents = useSelector(SelectContent);\n  const [selectedContents, setSelectedContents] = useState([]);\n  const [groupName, setGroupName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentMonitorId = useSelector(SelectCurrentMonitorId);\n  useEffect(() => {\n    const monitorId = Number(currentMonitorId);\n    if (!isNaN(monitorId)) {\n      dispatch(fetchContent(monitorId));\n    }\n  }, [dispatch, currentMonitorId]);\n  const handleContentSelect = contentId => {\n    setSelectedContents(prev => {\n      if (prev.includes(contentId)) {\n        return prev.filter(id => id !== contentId);\n      } else {\n        return [...prev, contentId];\n      }\n    });\n  };\n  const handleSubmit = async () => {\n    if (!currentMonitorId) {\n      alert('モニターが選択されていません');\n      return;\n    }\n    const groupformData = new FormData();\n    groupformData.append('name', groupName);\n    groupformData.append('description', description);\n    groupformData.append('device', currentMonitorId);\n    groupformData.append('status', '未使用');\n    const groupResponse = await dispatch(createContentGroup_api({\n      formData: groupformData\n    }));\n    if (createContentGroup_api.fulfilled.match(groupResponse)) {\n      const groupId = groupResponse.payload.id;\n      selectedContents.forEach(async (contentId, index) => {\n        const memberFormData = new FormData();\n        console.log(\"ContentId:\", contentId.toString());\n        memberFormData.append('group', groupId.toString());\n        memberFormData.append('content', contentId.toString());\n        memberFormData.append('order', index.toString());\n        dispatch(createContentGroupMember_api({\n          formData: memberFormData\n        }));\n      });\n      navigate('/');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u65B0\\u898F\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\\u30B0\\u30EB\\u30FC\\u30D7\\u3092\\u4F5C\\u6210\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: groupName,\n      onChange: e => setGroupName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: description,\n      onChange: e => setDescription(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: contents.map(content => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: selectedContents.includes(content.id),\n          onChange: () => handleContentSelect(content.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 25\n        }, this), content.title]\n      }, content.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"\\u65B0\\u898F\\u4F5C\\u6210\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 9\n  }, this);\n};\n_s2(CreateContentGroup, \"28Zhi1eOTKjL3pWJ5WglIIgvrp8=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n_c3 = CreateContentGroup;\nconst CreateContentGroupButton = () => {\n  _s3();\n  const navigate = useNavigate();\n  const navigateToCreateContentGroup = () => {\n    navigate('/create-content-group');\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: navigateToCreateContentGroup,\n    children: \"\\u65B0\\u898F\\u30B3\\u30F3\\u30C6\\u30F3\\u30C4\\u30B0\\u30EB\\u30FC\\u30D7\\u3092\\u4F5C\\u6210\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 308,\n    columnNumber: 9\n  }, this);\n};\n_s3(CreateContentGroupButton, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c4 = CreateContentGroupButton;\nconst DisplaySignageButton = () => {\n  _s4();\n  const navigate = useNavigate();\n  const navigateToDisplaySignage = () => {\n    navigate('/display');\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: navigateToDisplaySignage,\n    children: \"\\u30B5\\u30A4\\u30CD\\u30FC\\u30B8\\u3092\\u8868\\u793A\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 9\n  }, this);\n};\n//コンテンツ表示\n_s4(DisplaySignageButton, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c5 = DisplaySignageButton;\nconst DigitalSignage = () => {\n  _s5();\n  const [contents, setContents] = useState([]);\n  const [currentContentIndex, setCurrentContentIndex] = useState(0);\n  const [selectedContents, setSelectedContents] = useState([]);\n  const contentRef = useRef(null);\n  const [error, setError] = useState(null);\n  const dispatch = useDispatch();\n  const content = useSelector(SelectContent);\n  const contentgroup = useSelector(SelectContentGroup);\n  const contentgroupmembers = useSelector(SelectContentGroupMember);\n  const currentMonitorId = useSelector(SelectCurrentMonitorId);\n  useEffect(() => {\n    if (contentgroupmembers.length === 0) {\n      dispatch(fetchContentGroupMember());\n    }\n  }, [dispatch, contentgroupmembers.length]);\n  useEffect(() => {\n    const publishedContentGroupId = contentgroup.filter(group => group.status === '使用中').map(group => group.id);\n    if (publishedContentGroupId.length > 1) {\n      setError('公開中のContentGroupが複数存在します');\n    } else if (publishedContentGroupId.length === 1) {\n      const selectedGroupId = publishedContentGroupId[0];\n      console.log(selectedGroupId);\n      console.log(contentgroupmembers);\n      const relatedContents = contentgroupmembers.filter(member => {\n        console.log('Filtering member', member.group);\n        return member.group === selectedGroupId;\n      }).map(member => {\n        console.log('Mapping member to content:', member);\n        return content.find(c => c.id === member.content);\n      }).filter(c => {\n        console.log('Filterd content:', c);\n        return c !== undefined;\n      });\n      console.log(\"Content\", relatedContents);\n      setSelectedContents(relatedContents);\n    }\n  }, [contentgroup, contentgroupmembers, content]);\n  useEffect(() => {\n    if (selectedContents.length === 0) {\n      return;\n    }\n    const currentContent = selectedContents[currentContentIndex];\n    //console.log(currentContent);\n    const isVideo = (currentContent === null || currentContent === void 0 ? void 0 : currentContent.type) === 'movie';\n    const timeoutId = setTimeout(() => {\n      if (!isVideo || contentRef.current && contentRef.current.ended) {\n        const nextIndex = (currentContentIndex + 1) % selectedContents.length;\n        setCurrentContentIndex(nextIndex);\n      }\n    }, isVideo ? undefined : 10000);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [currentContentIndex, selectedContents]);\n  const currentContent = selectedContents[currentContentIndex];\n  console.log(currentContent);\n  const ContentDisplay = ({\n    content\n  }) => {\n    if (!content) {\n      return null;\n    }\n    const fileUrl = content.file;\n    console.log(\"content type\", content.content_type);\n    if (fileUrl != null) {\n      switch (content.content_type) {\n        case 'movie':\n          return /*#__PURE__*/_jsxDEV(\"video\", {\n            ref: contentRef,\n            src: fileUrl.toString(),\n            autoPlay: true,\n            onEnded: () => setCurrentContentIndex((currentContentIndex + 1) % selectedContents.length),\n            className: styles.fullscreen_media_video\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 25\n          }, this);\n        case 'image':\n        default:\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            src: fileUrl.toString(),\n            alt: content.title,\n            className: styles.fullscreen_media_img\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 28\n          }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u8868\\u793A\\u3067\\u304D\\u308B\\u3082\\u306E\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 19\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.fullscreen_media,\n    children: currentContent && /*#__PURE__*/_jsxDEV(ContentDisplay, {\n      content: currentContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 32\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 407,\n    columnNumber: 9\n  }, this);\n};\n_s5(DigitalSignage, \"t4XZOal+bOX6GjgbQAowkJ4bbWM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c6 = DigitalSignage;\nexport default ContentGroupDisplay;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"ContentGroupDisplay\");\n$RefreshReg$(_c3, \"CreateContentGroup\");\n$RefreshReg$(_c4, \"CreateContentGroupButton\");\n$RefreshReg$(_c5, \"DisplaySignageButton\");\n$RefreshReg$(_c6, \"DigitalSignage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","styles","useSelector","useDispatch","SelectCurrentMonitorId","SelectContent","SelectContentGroup","SelectContentGroupMember","deleteContentGroup_api","createContentGroup_api","createContentGroupMember_api","deleteContentGroup","fetchContent","fetchContentGroupMember","jsxDEV","_jsxDEV","Modal","children","onConfirm","onCancel","style","position","top","left","width","height","display","justifyContent","alignItems","backgroundColor","padding","background","borderRadius","flexDirection","marginTop","onClick","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","_c","initialDevice","id","serial_number","monitor_id","name","location","status","last_active","Date","toISOString","ContentGroupDisplay","_s","dispatch","contentgroups","searchTerm","setSearchTerm","contentgroupStatus","setContentGroupStatus","SelectedContentGroupIds","setSelectedContentGroupIds","Set","isModalOpen","setIsModalOpen","handleSearchChange","event","target","value","console","log","handleContentGroupStatusChange","prevStatus","resetFilters","handleCheckboxChange","prev","newSet","has","delete","add","handleDeleteClick","handleConfirmDelete","forEach","handleCancel","filterdContentGroups","filter","contentgroup","toLowerCase","includes","getButtonClass","type","placeholder","onChange","className","map","contentGroups","checked","description","_c2","CreateContentGroup","_s2","navigate","contents","selectedContents","setSelectedContents","groupName","setGroupName","setDescription","currentMonitorId","monitorId","Number","isNaN","handleContentSelect","contentId","handleSubmit","alert","groupformData","FormData","append","groupResponse","formData","fulfilled","match","groupId","payload","index","memberFormData","toString","e","content","title","_c3","CreateContentGroupButton","_s3","navigateToCreateContentGroup","_c4","DisplaySignageButton","_s4","navigateToDisplaySignage","_c5","DigitalSignage","_s5","setContents","currentContentIndex","setCurrentContentIndex","contentRef","error","setError","contentgroupmembers","length","publishedContentGroupId","group","selectedGroupId","relatedContents","member","find","c","undefined","currentContent","isVideo","timeoutId","setTimeout","current","ended","nextIndex","clearTimeout","ContentDisplay","fileUrl","file","content_type","ref","src","autoPlay","onEnded","fullscreen_media_video","alt","fullscreen_media_img","fullscreen_media","_c6","$RefreshReg$"],"sources":["/usr/src/app/frontend/signage_app/src/features/Content/ContentGroup.tsx"],"sourcesContent":["import React,{useState,useEffect,useRef} from 'react';\nimport { useNavigate ,useParams} from 'react-router-dom';\nimport axios from \"axios\";\nimport styles from \"./Content.module.css\";\nimport {useSelector,useDispatch} from \"react-redux\";\nimport {AppDispatch} from \"../../app/store\";\n// import {Modal} from \"../Core/Core\";\nimport {RootState} from \"../../app/store\";\nimport{selectDevice,setCurrentContent,SelectCurrentMonitorId} from '../Device/deviceSlice';\nimport {Content,ContentGroup,ContentGroupMember,Device} from '../types';\nimport{\n    SelectContent,\n    SelectContentGroup,\n    SelectContentGroupMember,\n    SelectContentById,\n    deleteContent,\n    addContent,\n    deleteContentGroup_api,\n    createContentGroup_api,\n    createContentGroupMember_api,\n    addContentGroupMember,\n    createContent_api,\n    updateContent_api,\n    editContent_api,\n    uploadContentFile_api,\n    deleteContentGroup,\n    fetchContentGroup,\n    fetchContent,\n    fetchContentGroupMember,\n} from './contentSlice'\nimport { current } from '@reduxjs/toolkit';\ninterface ModalProps{\n    children:React.ReactNode;\n    onConfirm:()=>void;\n    onCancel:()=>void;\n}\nconst Modal : React.FC<ModalProps> = ({ children, onConfirm, onCancel }) => {\n    return (\n      <div style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      }}>\n        <div style={{\n          padding: '20px',\n          background: 'white',\n          borderRadius: '5px',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}>\n          {children}\n          <div style={{ marginTop: '20px' }}>\n            <button onClick={onConfirm} style={{ marginRight: '10px' }}>はい</button>\n            <button onClick={onCancel}>いいえ</button>\n          </div>\n        </div>\n      </div>\n    )\n}\nconst initialDevice:Device={\n    id:-1,\n    serial_number:\"\",\n    monitor_id:null,\n    name:\"\",\n    location:\"\",\n    status:\"inactive\",\n    last_active:new Date().toISOString(),\n}\n\nconst ContentGroupDisplay=()=>{\n    const dispatch:AppDispatch=useDispatch();\n    const contentgroups=useSelector(SelectContentGroup);\n    const [searchTerm,setSearchTerm]=useState('');\n    const [contentgroupStatus,setContentGroupStatus]=useState('all');\n    const [SelectedContentGroupIds,setSelectedContentGroupIds]=useState<Set<number>>(new Set());\n    const [isModalOpen,setIsModalOpen]=useState(false);\n    const handleSearchChange=(event:React.ChangeEvent<HTMLInputElement>)=>{\n        setSearchTerm(event.target.value);\n    }\n    console.log(contentgroups);\n    const handleContentGroupStatusChange=(status:'公開'|'未公開'|'all')=>{\n        setContentGroupStatus(prevStatus=>prevStatus ===status ? 'all':status);\n    }\n    const resetFilters=()=>{\n        setContentGroupStatus('all');\n    }\n    const handleCheckboxChange=(id:number)=>{\n        setSelectedContentGroupIds(prev=>{\n            const newSet=new Set(prev);\n            if(newSet.has(id)){\n                newSet.delete(id);\n            }else{\n                newSet.add(id);\n            }\n            return newSet;\n        })\n    };\n    const handleDeleteClick=()=>{\n        setIsModalOpen(true)\n    }\n    const handleConfirmDelete=()=>{\n        SelectedContentGroupIds.forEach(id=>{\n            dispatch(deleteContentGroup(id));\n            dispatch(deleteContentGroup_api(id));\n        });\n        setSelectedContentGroupIds(new Set());\n        setIsModalOpen(false);\n    };\n    const handleCancel=()=>{\n        setIsModalOpen(false);\n    }\n    const filterdContentGroups=contentgroups.filter(contentgroup=>{\n        return(\n            (contentgroup.name.toLowerCase().includes(searchTerm.toLowerCase()))&&\n            (contentgroupStatus === 'all' || contentgroup.status===contentgroupStatus)\n        );\n    });\n    const getButtonClass=(value:string,type:'status'|'type')=>{\n        if(type==='status'){\n            return contentgroupStatus===value ? 'activate':'';\n        }\n    }\n    return(\n        <div>\n            <button onClick={handleDeleteClick}>削除</button>\n            <input type=\"text\"\n                    placeholder=\"検索\"\n                    value={searchTerm}\n                    onChange={handleSearchChange}\n                    />\n            <button onClick={resetFilters} className={contentgroupStatus==='all'?'activate':''}>すべて</button>\n            <button onClick={() =>handleContentGroupStatusChange('公開')}className={getButtonClass('公開','status')}>使用中</button>\n            <button onClick={()=>handleContentGroupStatusChange('未公開')}className={getButtonClass('未公開','status')}>未使用</button>\n            <table>\n                \n                    <thead>\n                        <tr>\n                            <th>選択</th>\n                            <td>\n                            <th>ステータス</th>\n                            <th>コンテンツタイトル</th>\n                            <th>コンテンツの詳細</th>\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    {filterdContentGroups.map((contentGroups)=>(\n                            <tr key={contentGroups.id}>\n                                <th>\n                                    <input type=\"checkbox\" \n                                            checked={SelectedContentGroupIds.has(contentGroups.id)} \n                                            onChange={()=>handleCheckboxChange(contentGroups.id)}/>\n                                </th>\n                                {/* <td key={contentGroups.id} onClick={()=>handleContentEdit(contentGroups.id)}> */}\n                                <th>{contentGroups.status}</th>\n                                <th>{contentGroups.name}</th>\n                                <th>{contentGroups.description}</th>\n                                {/* </td> */}\n                            </tr>\n                    ))}\n                    </tbody>\n                \n            </table>\n            {contentgroups.map((contentgroup)=>(\n                <div key={contentgroup.id}>\n            {isModalOpen &&(\n                <Modal\n                    onConfirm={handleConfirmDelete}\n                    onCancel={handleCancel}>\n                        <p>コンテンツを削除してもよろしいですか?</p>\n                    </Modal>\n            )}\n            </div>\n            ))}\n        </div>\n    )\n\n}\n//コンテンツグループの新規作成\n// export const CreateContentGroup=()=>{\n//     const[name,setName]=useState('');\n//     const [description,setDescription]=useState('');\n//     const [selectedContents,setSelectedContents]=useState<number[]>([]);\n//     const dispatch=useDispatch<AppDispatch>();\n//     const contents=useSelector(SelectContent);\n//     const currentMonitorId=useSelector(SelectCurrentMonitorId);\n\n//     useEffect(()=>{\n//         const monitorId=Number(currentMonitorId);\n//         if(!isNaN(monitorId)){\n//             dispatch(fetchContent(monitorId));\n//         }\n//     },[dispatch,currentMonitorId]);\n\n//     const handleCheckboxChange=(contentId:number)=>{\n//         setSelectedContents(prev=>{\n//             if(prev.includes(contentId)){\n//                 return prev.filter(id=>id!==contentId);\n//             }else{\n//                 return[...prev,contentId];\n//             }\n//         })\n//     };\n//     const handleSubmit=async(e:React.FormEvent<HTMLFormElement>)=>{\n//         e.preventDefault();\n//         const formData=new FormData();\n//         formData.append('name',name);\n//         formData.append('description',description);\n//         dispatch(createContentGroup_api({formData})).then((action)=>{\n//             if(createContentGroup_api.fulfilled.match(action)){\n//                 const contentGroupId=action.payload.id;\n//                 selectedContents.forEach(contentId=>{\n//                     const memberData={id:1,group:contentGroupId,content:contentId,order:selectedContents.indexOf(contentId)+1};\n//                     dispatch(addContentGroupMember(memberData));\n//                 })\n//             }\n//         }\n//         )\n//     }\n// }\n//コンテンツグループの新規作成\nconst CreateContentGroup=()=>{\n    const dispatch=useDispatch<AppDispatch>();\n    const navigate=useNavigate();\n    const contents=useSelector(SelectContent);\n    const [selectedContents,setSelectedContents]=useState<number[]>([]);\n    const [groupName,setGroupName]=useState('');\n    const [description,setDescription]=useState('');\n    const currentMonitorId=useSelector(SelectCurrentMonitorId);\n    useEffect(()=>{\n        const monitorId=Number(currentMonitorId);\n        if(!isNaN(monitorId)){\n            dispatch(fetchContent(monitorId));\n        }\n    },[dispatch,currentMonitorId]);\n    const handleContentSelect=(contentId:number)=>{\n        setSelectedContents(prev=>{\n            if(prev.includes(contentId)){\n                return prev.filter(id=>id!==contentId);\n            }else{\n                return[...prev,contentId];\n            }\n        })\n    };\n    const handleSubmit=async()=>{\n        if(!currentMonitorId){\n            alert('モニターが選択されていません');\n            return;\n        }\n        const groupformData=new FormData();\n        groupformData.append('name',groupName);\n        groupformData.append('description',description);\n        groupformData.append('device',currentMonitorId);\n        groupformData.append('status','未使用');\n        const groupResponse=await dispatch(createContentGroup_api({formData:groupformData}));\n        if(createContentGroup_api.fulfilled.match(groupResponse)){\n            const groupId=groupResponse.payload.id;\n            selectedContents.forEach(async(contentId,index)=>{\n                const memberFormData=new FormData();\n                console.log(\"ContentId:\",contentId.toString());\n                memberFormData.append('group',groupId.toString());\n                memberFormData.append('content',contentId.toString());\n                memberFormData.append('order',index.toString());\n                dispatch(createContentGroupMember_api({formData:memberFormData}));\n            })\n            navigate('/');\n        }\n    };\n    return(\n        <div>\n            <h2>新規コンテンツグループを作成</h2>\n            <input \n                type=\"text\"\n                value={groupName}\n                onChange={(e)=>setGroupName(e.target.value)}/>\n            <textarea\n                value={description}\n                onChange={(e)=>setDescription(e.target.value)}>\n            </textarea>\n            <div>\n                {contents.map(content=>(\n                    <div key={content.id}>\n                        <input \n                            type=\"checkbox\"\n                            checked={selectedContents.includes(content.id)}\n                            onChange={()=>handleContentSelect(content.id)}/>\n                        {content.title}\n                    </div>\n                ))}\n            </div>\n            <button onClick={handleSubmit}>新規作成</button>\n        </div>\n    )\n}\nconst CreateContentGroupButton=()=>{\n    const navigate=useNavigate();\n    const navigateToCreateContentGroup=()=>{\n        navigate('/create-content-group');\n    };\n    return(\n        <button onClick={navigateToCreateContentGroup}>新規コンテンツグループを作成</button>\n    )\n}\nconst DisplaySignageButton=()=>{\n    const navigate=useNavigate();\n    const navigateToDisplaySignage=()=>{\n        navigate('/display');\n    };\n    return(\n        <button onClick={navigateToDisplaySignage}>サイネージを表示</button>\n    )\n}\n//コンテンツ表示\nconst DigitalSignage=()=>{\n    const[contents,setContents]=useState([]);\n    const [currentContentIndex,setCurrentContentIndex]=useState(0);\n    const[selectedContents,setSelectedContents]=useState<Content[]>([]);\n    const contentRef=useRef<HTMLVideoElement|null>(null);\n    const [error,setError]=useState<string|null>(null);\n    const dispatch:AppDispatch=useDispatch();\n    const content=useSelector(SelectContent);\n    const contentgroup=useSelector(SelectContentGroup);\n    const contentgroupmembers=useSelector(SelectContentGroupMember);\n    const currentMonitorId=useSelector(SelectCurrentMonitorId);\n    useEffect(()=>{\n        if(contentgroupmembers.length===0){\n            dispatch(fetchContentGroupMember());\n        }\n    },[dispatch,contentgroupmembers.length]);\n    useEffect(()=>{\n        const publishedContentGroupId=contentgroup\n            .filter(group=>group.status==='使用中')\n            .map(group=>group.id);\n        if(publishedContentGroupId.length>1){\n            setError('公開中のContentGroupが複数存在します');\n        }else if(publishedContentGroupId.length===1){\n            const selectedGroupId=publishedContentGroupId[0];\n            console.log(selectedGroupId);\n            console.log(contentgroupmembers);\n            const relatedContents=contentgroupmembers\n                .filter(member=>{\n                    console.log('Filtering member',member.group);\n                    return member.group ===selectedGroupId;\n                })\n                .map(member=>{\n                    console.log('Mapping member to content:',member);\n                    return content.find(c=>c.id===member.content)\n                })\n                .filter(c=>{\n                    console.log('Filterd content:',c);\n                \n                return c!==undefined;\n            });\n            console.log(\"Content\",relatedContents);\n            setSelectedContents(relatedContents as Content[]);\n        }\n    },[contentgroup,contentgroupmembers,content])\n    useEffect(()=>{\n        if(selectedContents.length===0){\n            return;\n        }\n        const currentContent=selectedContents[currentContentIndex];\n        //console.log(currentContent);\n        const isVideo=currentContent?.type==='movie';\n        const timeoutId=setTimeout(()=>{\n            if(!isVideo || (contentRef.current && contentRef.current.ended)){\n                const nextIndex=(currentContentIndex+1)%selectedContents.length;\n                setCurrentContentIndex(nextIndex);\n            }\n\n        },isVideo? undefined:10000);\n        return()=>{\n            clearTimeout(timeoutId);\n        };\n    },[currentContentIndex,selectedContents])\n    \n    const currentContent=selectedContents[currentContentIndex];\n    console.log(currentContent)\n    const ContentDisplay=({content}:{content:Content}):JSX.Element|null=>{\n        if(!content){\n            return null;\n        }\n        const fileUrl=content.file;\n        console.log(\"content type\",content.content_type);\n        if(fileUrl!=null){\n            switch (content.content_type) {\n                case 'movie':\n                    return (\n                        <video ref={contentRef} src={fileUrl.toString()} autoPlay onEnded={() => setCurrentContentIndex((currentContentIndex + 1) % selectedContents.length )} className={styles.fullscreen_media_video} />\n                    );\n                case 'image':\n                default:\n                    return <img src={fileUrl.toString()} alt={content.title} className={styles.fullscreen_media_img} />;\n            }\n        }else{\n            return<div>表示できるものがありません</div>;\n        }\n    };\n    return(\n        <div  className={styles.fullscreen_media}>\n            {/* {currentContent &&(\n                currentContent.type === 'video'?(\n                    <video ref={contentRef} src={currentContent.url} autoPlay onEnded={()=>setCurrentContentIndex((currentContentIndex +1)%selectedContents.length)}/>\n\n                ):(\n                    <img src={currentContent.file} alt={currentContent.name} />\n                )\n            )} */}\n            {currentContent && <ContentDisplay content={currentContent} />}\n        </div>\n    );\n};\nexport default ContentGroupDisplay"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}